<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    
    // Datos
    const poblaciones = ['Localidad', 'Enero', 'Febrero', 'Marzo', 'Abril'];
    const temperaturas = [
        ['Cuevas del Alamanzora', 12, 13, 15, 18],
        ['Granada', 4.5, 8, 9, 15],
        ['Madrid', 4, 5.8, 8, 13],
        ['Soria', 0, 1, 6, 10]
    ];

    // Función para calcular la media de un arreglo de números
    function calcularMedia(arr) {
    return arr.reduce((a, b) => a + b, 0) / arr.length;
    }

    // Calcular la media de Temperatura por cada población
    const medias = {};
    for (let i = 1; i < poblaciones.length; i++) {
    const mes = poblaciones[i];
    medias[mes] = calcularMedia(temperaturas.map((fila) => fila[i]));
    }

    // Encontrar la temperatura más alta en Marzo y a qué población corresponde
    let maxMarzo = -Infinity;
    let poblacionMaxMarzo = '';
    for (const fila of temperaturas) {
    if (fila[3] > maxMarzo) {
        maxMarzo = fila[3];
        poblacionMaxMarzo = fila[0];
    }
    }

    // Calcular la media de la temperatura en el mes de abril
    const mediaAbril = calcularMedia(temperaturas.map((fila) => fila[4]));

    // Encontrar la población con la peor media de temperatura
    let peorMedia = Infinity;
    let poblacionPeorMedia = '';
    for (const poblacion in medias) {
    if (medias[poblacion] < peorMedia) {
        peorMedia = medias[poblacion];
        poblacionPeorMedia = poblacion;
    }
    }

    // Añadir la población ['Málaga', 14, 16.7, 18.4, 20.3]
    const nuevaPoblacion = ['Málaga', 14, 16.7, 18.4, 20.3];
    temperaturas.push(nuevaPoblacion);

    // Mostrar los resultados en una tabla
    console.log('Media de Temperatura por mes:');
    console.log(poblaciones.join('\t'));

    for (const mes in medias) {
    console.log(`${mes}\t${medias[mes].toFixed(2)}`);
    }

    console.log('\nTemperatura más alta en Marzo:');
    console.log(`Población: ${poblacionMaxMarzo}`);
    console.log(`Temperatura: ${maxMarzo.toFixed(2)}`);

    console.log('\nMedia de temperatura en abril:');
    console.log(`Media en Abril: ${mediaAbril.toFixed(2)}`);

    console.log('\nPoblación con peor media de temperatura:');
    console.log(`Población: ${poblacionPeorMedia}`);
    console.log(`Media: ${peorMedia.toFixed(2)}`);



// FUNCION PARA CALCULAR LA TEMPERATURA MEDIA
function calcularMedia(Temperaturas) {
            
            // CREAMOS LA VARIABLE MEDIA
            let media = {};

            // CREAMOS UN FOR PARA RECORRER 
            for (let i = 0; i < poblaciones.length; i++) {
                let poblacion = poblaciones[i];

                let sumaTemperaturas = 0;
                let meses = 0;

                for (let j = 1; j < Temperaturas.length; j++){
                    let temperatura = Temperatura [j][i];
                    sumaTemperaturas += temperatura;
                    meses ++;
                }

                let temperaturaMedia = sumaTemperaturas / meses;
                medias[poblacion] = temperaturaMedia;
            }

            return medias;
        };

        function maximoMarzo(temperaturas){
            // CREAMOS LAS VARIABLES DEL MAXIMO EN MARZO Y LA POBLACION
            let maximoMarzo = 0;
            let poblacion = '';

            // CREAMOS UN FOR PARA RECORRER
            for (let fila of temperaturas){
                if (fila[3] > maximoMarzo){
                    maximoMarzo = fila[3];
                    poblacion = fila[0];
                }
            }

            return document
        }
        
        function mediaAbril(temperaturas){
            // CREAMOS LA VARIABLE PARA CALCULAR MEDIA DE ABRIL 
            let mediaAbril = calcularMedia(temperaturas.map((fila) => fila[4]));
        }

        function peorMedia(temperaturas){
            // CREAMOS LAS VARIABLES PARA CALCULAR LA PEOR MEDIA Y LA POBLACION MEDIA
            let peorMedia = 0;
            let poblacionMedia;

            // CREAMOS UN FOR PARA RECORRER
            for (let fila in media){
                if (media[poblacion] < peorMedia) {
                    peorMedia = media[poblacion];
                    poblacionMedia = fila;
                }
            }
        }    

</script>
</body>
</html>